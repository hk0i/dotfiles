#!/usr/bin/env python3

import sys
import argparse


# Utility script for numbering lines
# Great for making lists in a markdown file


def main():
    args = makeParser().parse_args()
    numberLines(sys.stdin, args.shouldStartAtZero, args.shouldBoldMarkdown)


def makeParser():
    parser = argparse.ArgumentParser(description='Number lines of input from stdin')

    parser.add_argument(
            '-0',
            dest='shouldStartAtZero',
            action=argparse.BooleanOptionalAction,
            help='Start numbering from 0 instead of 1.')

    parser.add_argument(
            '-b',
            dest='shouldBoldMarkdown',
            action=argparse.BooleanOptionalAction,
            help='Surround each line in **markdown bold**')

    return parser


def numberLines(file, shouldStartAtZero = False, shouldBoldMarkdown = False):
    number = 0 if shouldStartAtZero else 1
    for line in file:
        if not line.strip():
            print()
        else:
            line = line.strip()
            if shouldBoldMarkdown:
                line = f'**{line}**'
            line = f'{number}. {line}'

            print(line)
            number += 1


if __name__ == '__main__':
    main()
